name: Run Command on Commit

# Trigger - uruchamia się przy każdym push (commit)
on:
  push:
    branches:
      - main

env:
  AUTH_HEADER_NAME: ${{ secrets.AUTH_HEADER_NAME }}
  AUTH_HEADER_VALUE: ${{ secrets.AUTH_HEADER_VALUE }}
  CF_ACI: ${{ secrets.CF_ACI }}
  CF_ACS: ${{ secrets.CF_ACS }}
  WEBHOOK_URL: ${{ secrets.WEBHOOK_URL }}
  WEBHOOK_METHOD: ${{ secrets.WEBHOOK_METHOD }}

jobs:
  run-command:
    runs-on: ubuntu-latest  # Możesz użyć: ubuntu-latest, windows-latest, macos-latest
    
    steps:
      # Krok 1: Pobierz kod z repozytorium
      - name: Pobierz kod z Repo
        uses: actions/checkout@v4
      
      # Krok 2: Uruchom twoje polecenie
      - name: Wykonaj zapytanie do Webhooka
        run: python3 request.py
          
